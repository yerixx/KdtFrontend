{"ast":null,"code":"import styled from\"styled-components\";import{useForm}from\"react-hook-form\";import{useSetRecoilState}from\"recoil\";import{Droppable}from\"react-beautiful-dnd\";import DraggableCard from\"./DraggableCard\";import{toDoState}from\"../atoms\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Wrapper=styled.div`\n  background: ${props=>props.theme.boardColor};\n  padding: 20px 10px;\n  padding-top: 30px;\n  border-radius: 8px;\n  width: 100%;\n  height: 100%;\n`;const Title=styled.h2`\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 18px;\n  margin-bottom: 10px;\n`;// area props로 지정함\nconst Area=styled.div`\n  background-color: ${props=>props.isDraggingOver?\"pink\":props.isDraggingFromThis?\"crimson\":\"dodgerblue\"};\n  padding: 10px;\n  border-radius: 8px;\n  transition: background-color 0.3s ease-in-out;\n`;const Form=styled.form`\n  width: 100%;\n`;const Input=styled.input`\n  width: 100%;\n  margin-bottom: 10px;\n  padding: 10px;\n  border: none;\n  border-radius: 8px;\n`;const Board=_ref=>{let{toDos,boardId}=_ref;const setToDos=useSetRecoilState(toDoState);const{register,setValue,handleSubmit}=useForm();const onVaild=_ref2=>{let{toDo}=_ref2;const newTodo={id:Date.now(),text:toDo};setToDos(allBoards=>{return{...allBoards,[boardId]:[newTodo,...allBoards[boardId]]};});// console.log(form);\n// console.log(data);\nsetValue(\"toDo\",\"\");};// const inputRef = useRef<HTMLInputElement>(null);\n// const onClick = () => {\n//   inputRef.current?.focus();\n//   setTimeout(() => {\n//     inputRef.current?.blur();\n//   }, 5000);\n// };\nreturn/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(Title,{children:boardId}),/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit(onVaild),children:/*#__PURE__*/_jsx(Input,{...register(\"toDo\",{required:true}),type:\"text\",placeholder:`add ${boardId}`})}),/*#__PURE__*/_jsx(Droppable,{droppableId:boardId,children:(magic,snapshot)=>/*#__PURE__*/_jsx(Area,{isDraggingOver:snapshot.isDraggingOver,isDraggingFromThis:Boolean(snapshot.draggingFromThisWith),children:/*#__PURE__*/_jsxs(\"div\",{ref:magic.innerRef,...magic.droppableProps,children:[toDos.map((toDo,index)=>/*#__PURE__*/_jsx(DraggableCard,{toDoId:toDo.id,toDoText:toDo.text,index:index},toDo.id)),magic.placeholder]})})})]});};export default Board;","map":{"version":3,"names":["styled","useForm","useSetRecoilState","Droppable","DraggableCard","toDoState","jsx","_jsx","jsxs","_jsxs","Wrapper","div","props","theme","boardColor","Title","h2","Area","isDraggingOver","isDraggingFromThis","Form","form","Input","input","Board","_ref","toDos","boardId","setToDos","register","setValue","handleSubmit","onVaild","_ref2","toDo","newTodo","id","Date","now","text","allBoards","children","onSubmit","required","type","placeholder","droppableId","magic","snapshot","Boolean","draggingFromThisWith","ref","innerRef","droppableProps","map","index","toDoId","toDoText"],"sources":["/Users/yerixxz/Documents/code/kdtFrontend/241101/01kanban/src/components/Board.tsx"],"sourcesContent":["import styled from \"styled-components\";\nimport { useRef } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useSetRecoilState } from \"recoil\";\nimport { Droppable } from \"react-beautiful-dnd\";\nimport DraggableCard from \"./DraggableCard\";\nimport { ToDo, toDoState } from \"../atoms\";\n\nconst Wrapper = styled.div`\n  background: ${(props) => props.theme.boardColor};\n  padding: 20px 10px;\n  padding-top: 30px;\n  border-radius: 8px;\n  width: 100%;\n  height: 100%;\n`;\n\nconst Title = styled.h2`\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 18px;\n  margin-bottom: 10px;\n`;\n\n// area props로 지정함\ninterface AreaProps {\n  isDraggingOver: boolean;\n  isDraggingFromThis: boolean;\n}\n\nconst Area = styled.div<AreaProps>`\n  background-color: ${(props) =>\n    props.isDraggingOver\n      ? \"pink\"\n      : props.isDraggingFromThis\n      ? \"crimson\"\n      : \"dodgerblue\"};\n  padding: 10px;\n  border-radius: 8px;\n  transition: background-color 0.3s ease-in-out;\n`;\n\nconst Form = styled.form`\n  width: 100%;\n`;\nconst Input = styled.input`\n  width: 100%;\n  margin-bottom: 10px;\n  padding: 10px;\n  border: none;\n  border-radius: 8px;\n`;\n\ninterface BoardProps {\n  toDos: ToDo[];\n  boardId: string;\n}\n\ninterface FormProps {\n  toDo: string;\n}\n\nconst Board = ({ toDos, boardId }: BoardProps) => {\n  const setToDos = useSetRecoilState(toDoState);\n  const { register, setValue, handleSubmit } = useForm<FormProps>();\n  const onVaild = ({ toDo }: FormProps) => {\n    const newTodo = {\n      id: Date.now(),\n      text: toDo,\n    };\n    setToDos((allBoards) => {\n      return {\n        ...allBoards,\n        [boardId]: [newTodo, ...allBoards[boardId]],\n      };\n    });\n    // console.log(form);\n    // console.log(data);\n    setValue(\"toDo\", \"\");\n  };\n\n  // const inputRef = useRef<HTMLInputElement>(null);\n  // const onClick = () => {\n  //   inputRef.current?.focus();\n  //   setTimeout(() => {\n  //     inputRef.current?.blur();\n  //   }, 5000);\n  // };\n\n  return (\n    <Wrapper>\n      <Title>{boardId}</Title>\n      {/* <input ref={inputRef} type=\"text\" placeholder=\"please...\" />\n      <button onClick={onClick}>add</button> */}\n      <Form onSubmit={handleSubmit(onVaild)}>\n        <Input\n          {...register(\"toDo\", { required: true })}\n          type=\"text\"\n          placeholder={`add ${boardId}`}\n        ></Input>\n      </Form>\n      <Droppable droppableId={boardId}>\n        {(magic, snapshot) => (\n          <Area\n            isDraggingOver={snapshot.isDraggingOver}\n            isDraggingFromThis={Boolean(snapshot.draggingFromThisWith)}\n          >\n            <div ref={magic.innerRef} {...magic.droppableProps}>\n              {toDos.map((toDo, index) => (\n                <DraggableCard\n                  key={toDo.id}\n                  toDoId={toDo.id}\n                  toDoText={toDo.text}\n                  index={index}\n                />\n              ))}\n              {magic.placeholder}\n            </div>\n          </Area>\n        )}\n      </Droppable>\n    </Wrapper>\n  );\n};\n\nexport default Board;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}